<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Black room</title>
    <style>
    	* { padding: 0; margin: 0; }
    	body {width:100%; height: 100%;  min-width: 1024px;  min-height: 768px;}
    	canvas { background: #000; display: block; margin: 0; min-width: 1024px;  min-height: 768px; }
    </style>
</head>
<body>

<canvas id="wall" width="1920px" height="1080px"></canvas>
<audio id="audio_wall" preload="auto" controls="none" crossOrigin="anonymous" style="position:absolute; top:-100px;">
<source src="knock_1.mp3" type="audio/mp3" display="none">
</audio>
	
<script>

    function getRandomInt(max) {
      return Math.floor(Math.random() * Math.floor(max));
    }
    
	function init()
	{
		canvas = document.getElementById("wall");
		ctx = canvas.getContext("2d");
                knock_sound = document.getElementById("audio_wall");
		// knock = new Audio("bounce.mp3");
		// knock.preload = 'auto';
		// knock.load();

		var width = canvas.width;
		var height = canvas.height

		random_x = getRandomInt(width);
        random_y = getRandomInt(height);
		
        console.log("Init x: " + random_x);
        console.log("Init y: " + random_y);
        
	    canvas.addEventListener("click", function(e){
        console.log(e.clientX);
        console.log(e.clientY);
        
        dx=random_x-e.clientX;
        dy=random_y-e.clientY;
        
        distance = Math.sqrt(dx*dx+dy*dy);
        vol = 1 - (distance/2202);
        console.log("Dist: " + distance);
        console.log("Vol: " + vol);
        knock_sound.volume = vol;
        knock_sound.play();
        })
	}

    init();
</script>

</body>
</html>
